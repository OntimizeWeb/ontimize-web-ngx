<span mat-dialog-title>{{ 'TABLE.BUTTONS.EXPORT' | oTranslate }}</span>
<mat-dialog-content class="dialog_content">
  <div mat-subheader>{{ 'TABLE.DIALOG.EXPORT.DESCRIPTION' | oTranslate }}</div>
  <mat-button-toggle-group class="type_toggle_group" [(ngModel)]="selectedExportFormat">
    <o-table-export-button #excelButton *ngIf="isButtonVisible('xlsx')" svg-icon="ontimize:EXCEL" label="TABLE.BUTTONS.EXCEL" export-type="xlsx"
      class="excel-button"></o-table-export-button>
    <o-table-export-button #htmlButton *ngIf="isButtonVisible('html')" svg-icon="ontimize:HTML" label="TABLE.BUTTONS.HTML" export-type="html"
      class="html-button"></o-table-export-button>
    <o-table-export-button #pdfButton *ngIf="isButtonVisible('pdf')" svg-icon="ontimize:PDF" label="TABLE.BUTTONS.PDF" export-type="pdf"
      class="pdf-button"></o-table-export-button>
    <o-table-export-button #csvButton *ngIf="isButtonVisible('csv')" svg-icon="ontimize:CSV" label="TABLE.BUTTONS.CSV" export-type="csv"
      class="csv-button"></o-table-export-button>

    <ng-container *ngFor="let customButton of config.options">
      <o-table-export-button [svg-icon]="customButton.svgIcon" [icon]="customButton.icon" [label]="customButton.olabel"
        [export-type]="customButton.exportType"></o-table-export-button>
    </ng-container>
  </mat-button-toggle-group>
  <mat-expansion-panel class="acordion" [expanded]="isExpanded">
    <mat-expansion-panel-header collapsedHeight="32px" expandedHeight="32px">
      <mat-panel-title>
        {{ 'EXPORT.DIALOG.ADVANCED_OPTIONS' | oTranslate }}
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="inputs_container">
      <mat-label class="dialog-titles">{{'EXPORT.DIALOG.FILE_NAME'|oTranslate}}</mat-label>
      <mat-form-field subscriptSizing="dynamic" class="filename_input">
        <input matInput [(ngModel)]="filename" placeholder="{{ 'EXPORT.DIALOG.FILE_NAME.PLACEHOLDER' | oTranslate }}" />
      </mat-form-field>
      <span class="dialog-titles">{{'EXPORT.DIALOG.COLUMNS'|oTranslate}}</span>
      <mat-selection-list dense #columnsList cdkDropList [cdkDropListData]="columnsData" (cdkDropListDropped)="dropColumns($event)" class="columns"
        [(ngModel)]="columns" [compareWith]="columnsCompareFunction">
        <mat-list-option checkboxPosition="before" *ngFor="let column of columnsData" [value]="column" cdkDrag>
          <div fxLayout="row" fxLayoutAlign="space-around center">
            <span matListItemLine fxFlex>
              {{column | oTranslate}}
            </span>
            <mat-icon mat-list-icon class="button-edit">drag_handle</mat-icon>
          </div>
        </mat-list-option>
      </mat-selection-list>
      <span class="dialog-titles">{{'EXPORT.DIALOG.ORIENTATION'|oTranslate}}</span>
      <mat-radio-group name="Orientation" [(ngModel)]="vertical" fxLayout="row" fxLayoutGap="12px" [disabled]="selectedExportFormat !== 'pdf'">
        <mat-radio-button *ngFor="let orientation of orientations" name="Orientation" [value]="orientation.value"
          [checked]="vertical === orientation.value">
          {{ orientation.text | oTranslate}}
        </mat-radio-button>
      </mat-radio-group>
    </div>
  </mat-expansion-panel>
</mat-dialog-content>

<mat-dialog-actions fxLayoutAlign="end center">
  <button type="button" mat-stroked-button [mat-dialog-close]="false" class="o-button-default cancel">{{ 'CANCEL' | oTranslate }}</button>
  <button type="button" mat-stroked-button class="export_button" (click)="export()">
    <mat-icon>ios_share</mat-icon>
    <span>{{ 'EXPORT.DIALOG.EXPORT_BUTTON' | oTranslate }}</span>
  </button>
</mat-dialog-actions>
